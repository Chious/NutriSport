# NutriSport å°ˆæ¡ˆæ¶æ§‹èªªæ˜

## ğŸ—ï¸ å°ˆæ¡ˆæ¦‚è¿°

NutriSport æ˜¯ä¸€å€‹æ¡ç”¨ **Kotlin Multiplatform (KMP)** é–‹ç™¼çš„è·¨å¹³å°ç‡Ÿé¤Šé‹å‹•æ‡‰ç”¨ç¨‹å¼ï¼Œæ”¯æ´ Android å’Œ iOS å¹³å°ã€‚

## ğŸ“ æ¨¡çµ„åŒ–æ¶æ§‹

### å°ˆæ¡ˆçµæ§‹

```
ğŸ“ NutriSport/
â”œâ”€â”€ ğŸ“ androidApp/          # Android æ‡‰ç”¨ç¨‹å¼å…¥å£
â”œâ”€â”€ ğŸ“ iosApp/              # iOS æ‡‰ç”¨ç¨‹å¼å…¥å£
â”œâ”€â”€ ğŸ“ shared/              # å…±äº«åŸºç¤è¨­æ–½æ¨¡çµ„
â”œâ”€â”€ ğŸ“ feature/             # åŠŸèƒ½æ¨¡çµ„é›†åˆ
â”‚   â””â”€â”€ ğŸ“ auth/            # èªè­‰åŠŸèƒ½æ¨¡çµ„
â”œâ”€â”€ ğŸ“ navigation/          # å°èˆªè·¯ç”±æ¨¡çµ„
â”œâ”€â”€ ğŸ“ gradle/              # Gradle é…ç½®
â”‚   â””â”€â”€ libs.versions.toml  # ç‰ˆæœ¬ç›®éŒ„
â””â”€â”€ settings.gradle.kts     # å°ˆæ¡ˆè¨­å®š
```

## ğŸ¯ æ¨¡çµ„è·è²¬åŠƒåˆ†

### 1. **shared** æ¨¡çµ„ - åŸºç¤è¨­æ–½

**è·è²¬**: æä¾›æ‰€æœ‰æ¨¡çµ„å…±ç”¨çš„åŸºç¤è¨­æ–½å’Œè³‡æº

**å…§å®¹**:

- `Resources.kt` - åœ–æ¨™å’Œåœ–ç‰‡è³‡æºç®¡ç†
- `Color.kt` - ä¸»é¡Œé¡è‰²å®šç¾©
- `Font.kt` - å­—é«”æ¨£å¼å®šç¾©
- `Alpha.kt` - é€æ˜åº¦å¸¸æ•¸
- é€šç”¨å·¥å…·é¡å’Œæ“´å±•å‡½æ•¸

**ä¾è³´é …**:

```kotlin
// æ ¸å¿ƒ Compose Multiplatform
implementation(compose.runtime)
implementation(compose.foundation)
implementation(compose.material3)
implementation(compose.ui)

// è·¨å¹³å°åŸºç¤åº«
implementation(libs.kotlinx.coroutines.core)
implementation(libs.kotlinx.serialization)
implementation(libs.koin.core)

// ç¶²è·¯å’Œåœ–ç‰‡
implementation(libs.ktor.client.core)
implementation(libs.coil3)

// Firebase å¾Œç«¯æœå‹™
implementation(libs.firebase.app)
implementation(libs.firebase.firestore)
implementation(libs.firebase.storage)
```

### 2. **feature/auth** æ¨¡çµ„ - èªè­‰åŠŸèƒ½

**è·è²¬**: è™•ç†ç”¨æˆ¶èªè­‰ç›¸é—œçš„æ‰€æœ‰æ¥­å‹™é‚è¼¯

**å…§å®¹**:

- `AuthScreen.kt` - èªè­‰ä¸»ç•«é¢
- `GoogleButton.kt` - Google ç™»å…¥æŒ‰éˆ•çµ„ä»¶
- èªè­‰æµç¨‹ç®¡ç†
- ç”¨æˆ¶ç‹€æ…‹ç®¡ç†

**ä¾è³´é …**:

```kotlin
// ç¹¼æ‰¿ shared æ¨¡çµ„çš„åŸºç¤åŠŸèƒ½
implementation(project(":shared"))

// èªè­‰å°ˆç”¨ä¾è³´
implementation(libs.auth.kmp)
implementation(libs.auth.firebase.kmp)
implementation(libs.messagebar.kmp)

// DI å’Œç‹€æ…‹ç®¡ç†
implementation(libs.koin.compose)
```

### 3. **navigation** æ¨¡çµ„ - å°èˆªç®¡ç†

**è·è²¬**: ç®¡ç†æ‡‰ç”¨ç¨‹å¼çš„è·¯ç”±å’Œé é¢é–“å°èˆª

**å…§å®¹**:

- è·¯ç”±å®šç¾©
- å°èˆªåœ–é…ç½®
- é é¢è·³è½‰é‚è¼¯
- æ·±å±¤é€£çµè™•ç†

**ä¾è³´é …**:

```kotlin
// å°èˆªæ¡†æ¶
implementation(libs.compose.navigation)

// åŠŸèƒ½æ¨¡çµ„é›†æˆ
implementation(project(":feature:auth"))
```

### 4. **androidApp** æ¨¡çµ„ - Android å…¥å£

**è·è²¬**: Android å¹³å°çš„æ‡‰ç”¨ç¨‹å¼å…¥å£é»

**å…§å®¹**:

- `MainActivity.kt` - ä¸»æ´»å‹•
- `AndroidManifest.xml` - æ‡‰ç”¨ç¨‹å¼æ¸…å–®
- Android ç‰¹å®šé…ç½®

**ä¾è³´é …**:

```kotlin
// å¼•ç”¨å…±äº«æ¨¡çµ„
implementation(projects.shared)

// Android ç‰¹å®šä¾è³´
implementation(libs.androidx.activity.compose)
implementation(libs.splash.screen)
implementation(libs.compose.ui.tooling.preview)
```

## ğŸ”§ æŠ€è¡“æ£§

### æ ¸å¿ƒæ¡†æ¶

- **Kotlin Multiplatform 2.1.20** - è·¨å¹³å°é–‹ç™¼
- **Compose Multiplatform 1.8.0** - è·¨å¹³å° UI æ¡†æ¶
- **Android Gradle Plugin 8.8.0** - æ§‹å»ºå·¥å…·

### UI å’Œè¨­è¨ˆ

- **Material Design 3** - ç¾ä»£åŒ– UI çµ„ä»¶
- **Compose Navigation** - è²æ˜å¼å°èˆª
- **è³‡æºç®¡ç†** - åœ–æ¨™ã€å­—é«”ã€é¡è‰²çµ±ä¸€ç®¡ç†

### å¾Œç«¯å’Œç¶²è·¯

- **Firebase** - å¾Œç«¯å³æœå‹™ (BaaS)
  - Firestore - é›²ç«¯è³‡æ–™åº«
  - Storage - æª”æ¡ˆå­˜å„²
  - Authentication - ç”¨æˆ¶èªè­‰
- **Ktor 3.0.3** - HTTP å®¢æˆ¶ç«¯
- **Kotlinx Serialization** - JSON åºåˆ—åŒ–

### åœ–ç‰‡å’Œåª’é«”

- **Coil3** - è·¨å¹³å°åœ–ç‰‡è¼‰å…¥åº«
- **Splash Screen** - å•Ÿå‹•ç•«é¢

### æ¶æ§‹å’Œå·¥å…·

- **Koin** - è¼•é‡ç´šä¾è³´æ³¨å…¥
- **Coroutines** - ç•°æ­¥ç¨‹å¼è¨­è¨ˆ
- **MessageBar KMP** - è·¨å¹³å°è¨Šæ¯æç¤º
- **Multiplatform Settings** - è·¨å¹³å°è¨­å®šå­˜å„²

## âœ… æ¨¡çµ„åŒ–æ¶æ§‹å„ªå‹¢

### 1. **é—œæ³¨é»åˆ†é›¢**

- æ¯å€‹æ¨¡çµ„å°ˆæ³¨æ–¼ç‰¹å®šåŠŸèƒ½
- æ¸…æ™°çš„è·è²¬åŠƒåˆ†
- æ˜“æ–¼ç†è§£å’Œç¶­è­·

### 2. **ç·¨è­¯æ€§èƒ½**

- **å¢é‡ç·¨è­¯**: åªé‡ç·¨è­¯ä¿®æ”¹çš„æ¨¡çµ„
- **ä¸¦è¡Œç·¨è­¯**: å¤šæ¨¡çµ„åŒæ™‚ç·¨è­¯
- **å¿«é€Ÿå›é¥‹**: å±€éƒ¨ä¿®æ”¹ä¸å½±éŸ¿å…¶ä»–æ¨¡çµ„

### 3. **ä¾è³´ç®¡ç†**

- **ç²¾æº–ä¾è³´**: æ¯å€‹æ¨¡çµ„åªå¼•å…¥éœ€è¦çš„ä¾è³´
- **ç‰ˆæœ¬çµ±ä¸€**: ä½¿ç”¨ `libs.versions.toml` çµ±ä¸€ç®¡ç†
- **ä¾è³´å…±äº«**: Gradle è‡ªå‹•å„ªåŒ–ï¼Œç›¸åŒä¾è³´åªä¸‹è¼‰ä¸€æ¬¡

### 4. **åœ˜éšŠå”ä½œ**

- **ä¸¦è¡Œé–‹ç™¼**: ä¸åŒåœ˜éšŠæˆå“¡å¯åŒæ™‚é–‹ç™¼ä¸åŒåŠŸèƒ½æ¨¡çµ„
- **æ¸›å°‘è¡çª**: åŠŸèƒ½éš”é›¢æ¸›å°‘ Git åˆä½µè¡çª
- **ç¨ç«‹æ¸¬è©¦**: å„æ¨¡çµ„å¯ç¨ç«‹é€²è¡Œå–®å…ƒæ¸¬è©¦

### 5. **å¯æ“´å±•æ€§**

- **æ–°åŠŸèƒ½**: è¼•é¬†æ·»åŠ æ–°çš„ feature æ¨¡çµ„
- **å¹³å°æ”¯æ´**: å®¹æ˜“æ“´å±•åˆ°æ–°å¹³å° (Desktopã€Web)
- **ç¬¬ä¸‰æ–¹é›†æˆ**: æ¨¡çµ„åŒ–è¨­è¨ˆä¾¿æ–¼é›†æˆå¤–éƒ¨æœå‹™

## ğŸš€ æœ€ä½³å¯¦è¸

### ç‰ˆæœ¬ç®¡ç†

- æ‰€æœ‰ä¾è³´ç‰ˆæœ¬çµ±ä¸€åœ¨ `gradle/libs.versions.toml` ä¸­ç®¡ç†
- ä½¿ç”¨èªç¾©åŒ–ç‰ˆæœ¬æ§åˆ¶
- å®šæœŸæ›´æ–°ä¾è³´é …ä»¥ç²å¾—å®‰å…¨æ€§å’Œæ€§èƒ½æ”¹é€²

### æ¨¡çµ„è¨­è¨ˆåŸå‰‡

- **å–®ä¸€è·è²¬**: æ¯å€‹æ¨¡çµ„åªè² è²¬ä¸€å€‹æ¥­å‹™é ˜åŸŸ
- **ä½è€¦åˆ**: æ¨¡çµ„é–“ä¾è³´é—œä¿‚ç°¡å–®æ˜ç¢º
- **é«˜å…§èš**: ç›¸é—œåŠŸèƒ½é›†ä¸­åœ¨åŒä¸€æ¨¡çµ„å…§

### ç¨‹å¼ç¢¼çµ„ç¹”

- ä½¿ç”¨æ¸…æ™°çš„åŒ…åå’Œå‘½åç©ºé–“
- åŠŸèƒ½ç›¸é—œçš„é¡åˆ¥æ”¾åœ¨åŒä¸€å€‹ package å…§
- å…±äº«è³‡æºå’Œå·¥å…·é¡æ”¾åœ¨ shared æ¨¡çµ„

## ğŸ“± é–‹ç™¼æµç¨‹

### æ–°å¢åŠŸèƒ½

1. åœ¨ `feature/` ä¸‹å‰µå»ºæ–°æ¨¡çµ„
2. åœ¨ `settings.gradle.kts` ä¸­è¨»å†Šæ¨¡çµ„
3. é…ç½® `build.gradle.kts` ä¾è³´é …
4. åœ¨ `navigation` æ¨¡çµ„ä¸­æ·»åŠ è·¯ç”±
5. æ›´æ–° shared æ¨¡çµ„çš„å…±äº«è³‡æºï¼ˆå¦‚éœ€è¦ï¼‰

### æ§‹å»ºå’Œéƒ¨ç½²

```bash
# æ¸…ç†å°ˆæ¡ˆ
./gradlew clean

# æ§‹å»ºæ‰€æœ‰æ¨¡çµ„
./gradlew build

# é‹è¡Œ Android æ‡‰ç”¨
./gradlew :androidApp:installDebug

# æ§‹å»º iOS Framework
./gradlew :shared:assembleXCFramework
```

## ğŸ¯ çµè«–

é€™å€‹æ¨¡çµ„åŒ–æ¶æ§‹æä¾›äº†ï¼š

- **å¯ç¶­è­·æ€§**: æ¸…æ™°çš„æ¨¡çµ„åŠƒåˆ†ä¾¿æ–¼é•·æœŸç¶­è­·
- **å¯æ¸¬è©¦æ€§**: æ¯å€‹æ¨¡çµ„å¯ç¨ç«‹æ¸¬è©¦
- **å¯æ“´å±•æ€§**: å®¹æ˜“æ·»åŠ æ–°åŠŸèƒ½å’Œå¹³å°æ”¯æ´
- **æ•ˆèƒ½å„ªåŒ–**: Gradle ä¾è³´å…±äº«å’Œå¢é‡ç·¨è­¯
- **åœ˜éšŠå”ä½œ**: æ”¯æ´å¤šäººä¸¦è¡Œé–‹ç™¼

é€éé€™ç¨®æ¶æ§‹è¨­è¨ˆï¼ŒNutriSport å¯ä»¥å¿«é€Ÿè¿­ä»£é–‹ç™¼ï¼ŒåŒæ™‚ä¿æŒç¨‹å¼ç¢¼å“è³ªå’Œç³»çµ±ç©©å®šæ€§ã€‚
